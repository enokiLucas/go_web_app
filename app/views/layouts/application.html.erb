<!DOCTYPE html>
<html>
  <head>
    <title>GoWebApp</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload", media: "all" %>
    <%= javascript_importmap_tags %>
  </head>

  <body>
    <%= yield %>

    <%# Embed constants in the view %>
    <script>
      window.CONSTANTS = <%= raw CONSTANTS.to_json %>;
    </script>

    <%# Imports shoelace autoloader %>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.1/cdn/shoelace-autoloader.js"></script>

    <%# Imports shoelace dark and light themes. Switch on the browser. %>
    <link
      rel="stylesheet"
      media="(prefers-color-scheme:light)"
      href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.1/cdn/themes/light.css"
    />
    <link
      rel="stylesheet"
      media="(prefers-color-scheme:dark)"
      href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.1/cdn/themes/dark.css"
      onload="document.documentElement.classList.add('sl-theme-dark');"
    />
  </body>
</html>
